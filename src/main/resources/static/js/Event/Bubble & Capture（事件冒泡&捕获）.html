<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <title>Bubble &amp; Capture（事件冒泡&amp;捕获）</title>
    <link rel="icon" href="../../../public/img/ico/NoharaSinnosuke.ico">
    <link rel="stylesheet" href="../../../public/css/demo.css">
</head>

<body>
    <section class="code-wrap h100vh">
        <div class="css-live-wrap w40p">
            <div class="caption">
                <a href="https://www.cnblogs.com/Chen-XiaoJun/p/6210987.html" target="_blank"></a>
                Bubble（事件冒泡）和 Capture（事件捕获）
            </div>
            <div class="caption">现代浏览器总是先 capture，后 bubble</div>
            <div class="centered" id="blue">
                <p id="yellow">
                    <span id="red"></span>
                </p>
            </div>
        </div>
        <style>
            #blue,
            #yellow,
            #red {
                border: 1px solid #bbb;
                border-radius: 50%;
            }

            #blue {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 250px;
                height: 250px;
                background: lightblue;
            }

            #yellow {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 160px;
                height: 160px;
                background: lightgoldenrodyellow;
            }

            #red {
                width: 70px;
                height: 70px;
                background: lightpink;
                cursor: pointer;
            }
        </style>
        <script class="code w60p" contenteditable="true">
            const blue = document.getElementById("blue");
            const yellow = document.getElementById("yellow");
            const red = document.getElementById("red");

            // 捕获阶段绑定事件
            window.addEventListener("click", function (e) {
                alert("window 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);

            document.addEventListener("click", function (e) {
                alert("document 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);

            document.documentElement.addEventListener("click", function (e) {
                alert("documentElement 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);

            document.body.addEventListener("click", function (e) {
                alert("body 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);

            blue.addEventListener("click", function (e) {
                alert("blue 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);

            yellow.addEventListener("click", function (e) {
                alert("yellow 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);

            red.addEventListener("click", function (e) {
                alert("red 捕获", e.target.nodeName, e.currentTarget.nodeName);
            }, true);



            // 冒泡阶段绑定的事件
            window.addEventListener("click", function (e) {
                alert("window 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);

            document.addEventListener("click", function (e) {
                alert("document 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);

            document.documentElement.addEventListener("click", function (e) {
                alert("documentElement 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);

            document.body.addEventListener("click", function (e) {
                alert("body 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);

            blue.addEventListener("click", function (e) {
                alert("blue 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);

            yellow.addEventListener("click", function (e) {
                alert("yellow 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);

            red.addEventListener("click", function (e) {
                alert("red 冒泡", e.target.nodeName, e.currentTarget.nodeName);
            }, false);
        </script>
    </section>
</body>

</html>