<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <base target="_blank">
    <title>lodash</title>
    <link rel="stylesheet" href="../../../public/css/demo.css">
</head>
<body>
<section class="code-wrap h150">
    <div class="css-live-wrap">
        <div class="caption">
            <a href="https://www.npmjs.com/package/lodash-es">lodash</a> |
            <a href="https://www.npmjs.com/package/underscore">underscore</a>
        </div>
        <div class="caption">
            <a href="https://github.com/you-dont-need/You-Dont-Need-Lodash-Underscore">不再需要 lodash/underscore</a><br/>
            <a href="https://youmightnotneed.com/lodash/">不再需要 lodash</a>
        </div>
        <div class="caption"><a href="https://github.com/lodash/lodash/wiki/FP-Guide">FP Guide</a></div>
        <div class="centered">
        </div>
    </div>
</section>

<section class="code-wrap">
    <div class="css-live-wrap w100p">
        <div class="caption"></div>
        <div class="centered">
            <table class="w1280">
                <tr>
                    <th></th>
                    <th>API</th>
                    <th>Lodash</th>
                    <th>Native</th>
                </tr>
                <tr>
                    <td rowspan="2">Array</td>
                    <td><a href="https://lodash.com/docs/4.17.15#uniq">uniq</a></td>
                    <td>_.uniq([1, 2, 1, 4, 1, 3])</td>
                    <td>[...new Set([1, 2, 1, 4, 1, 3])]</td>
                </tr>
                <tr>
                    <td>flattenDeep</td>
                    <td>_.flattenDeep([1, [2, [3, [4]], 5]])</td>
                    <td>[1, [2, [3, [4]], 5]].flat(Infinity)</td>
                </tr>
                <tr>
                    <td>String</td>
                    <td>deburr</td>
                    <td>_.deburr('déjà vu')</td>
                    <td></td>
                </tr>
                <tr>
                    <td rowspan="2">Object</td>
                    <td>get</td>
                    <td>_.get({a: [{b: {c: 3}}]}, 'a[0].b.c', 1)</td>
                    <td>{a: [{b: {c: 3}}]}?.a?.[0]?.b?.c ?? 1</td>
                </tr>
                <tr>
                    <td>set</td>
                    <td>_.set(obj, 'a[0].b.c', 4)</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Lang</td>
                    <td>cloneDeep</td>
                    <td>_cloneDeep(obj)</td>
                    <td>structuredClone(obj)</td>
                </tr>
                <tr>
                    <td>Util</td>
                    <td>times</td>
                    <td>_.times(10)</td>
                    <td>[...Array(10).keys()]</td>
                </tr>
            </table>
        </div>
    </div>
    <script type="module" class="code w0" contenteditable="true">
        // memoize
        // partition
        // keyBy
        import _ from 'https://unpkg.com/lodash-es/lodash.js';

        console.log(_.uniqueId())
        console.log(_.uniqueId())
        console.log(_.uniqueId())
    </script>
</section>

<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption"><a href="https://www.lodashjs.com/docs/lodash.debounce"></a>debounce</div>
        <div class="centered debounce">
            <div class="demo-button">防抖</div>
        </div>
    </div>
    <script type="module" class="code w60p" contenteditable="true">
        import _ from 'https://unpkg.com/lodash-es/lodash.js';

        function bounce() {
            const search = _.debounce((query) => alert(`Searching for ${query}`), 500);
            // 模拟抖动导致连续触发三次方法
            search('apply');
            search('banana');
            search('car');
        }

        document.querySelector('.debounce .demo-button').onclick = bounce;
    </script>
</section>
</body>
</html>
