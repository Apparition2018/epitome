<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <title>Blob-demo</title>
    <link rel="stylesheet" href="../../../../public/css/demo.css">
</head>
<body>
<section class="code-wrap">
    <div class="css-live-wrap w40p">
        <div class="caption">
            <a href="https://blog.csdn.net/yiguoxiaohai/article/details/129195167">base64 转 blob，并通过 blob
                显示图片</a>
        </div>
        <div class="centered">
            <img id="blobImg" src="" alt="">
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const base64Url = "data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAOAAAAEIAAAA+AAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgQDw4ijYh+muzk0r7/9eLa/vXi3NLLu9qSjIKiFBQSLgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8UGjaHsuK8j6S44NjRwP/w6Nb//vXi///24///9uP///bj/9fQwOxMSkRSAAAAAAAAAAAAAAAAAAAAAAAAAABCVmxYjrzu/5W/7f+lw+H/lrPR/4ynxP+QqMD/pLPB/77Bvf/h2cj/3NTE8JyWixAAAAAAAAAAAAAAAAAAAAASt7GlckJWbP+Drtz/jbrs/32l0v+Nu+3/jrzu/4687v+OvO3/kbbe/3d8mP9QUKPmIyNQSAAAAAAAAAAAAAAARNzVxMwXHib/g67d/0VbdP9YWFj/S2N+/4687v+OvO7/jrzu/4687v9SXKr/VVe9/B4gQlgAAAAAAAAAAA4ODUbd1sX6ICo1/3KYwP9OaIT/UFBQ/0deeP+OvO7/jrzu/4687v+OvO7/fqbT/32m0/9PaIRoAAAAAAAAAAAdHBpK8urY/wMDA/9cepv/dZvF/2uNs/+Nu+3/dJrD/1ZbYP9FWnH/jrzu/4687v+OvO3/Q1JiTgAAAAAAAAAAAAAAQv714+RST0n/LTxM/zRFWP9yl7//h7Pj/1h1lP91dXX/JS02/5C97f+Svu3/nLfS+BQTEiAAAAAAAAAAAAAAAD7z6tic3tbG/xYWFP8bJC7/ibXl/36n0/9wlLz/a460/3CUu/+qrav/zse4/8O8rbIAAAAAAAAAAAAAAAAAAAAER0U/ZP/24u7Px7j/GRkX/yUxPv8YISn/fqfU/2GBo/98lrH/9OvZ//fu3PxdWVJqAAAAAAAAAAAAAAAAAAAAAAAAACaRjIF4//Xi9O3k0/+Hgnj/Kykm/wYHCf9cW1j/5t/Q//vy3/p8eG6kAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJltYUXLz6ti6//Xj/Pvy4P/q4tD//vXi/NLLu+BhXld+AAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAPDw6NlR8eG+Ce3duhkA+OVwAAAAiAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AAD4HwAA4A8AAOAHAADgAwAAwAMAAMADAADAAwAAwAMAAMADAADgBwAA8AcAAPgfAAD+fwAA//8AAA==";
        document.getElementById("blobImg").src = URL.createObjectURL(base64ToBlob(base64Url));

        /** * base64 → blob */
        function base64ToBlob(base64Url) {
            const arr = base64Url.split(',');
            const mime = arr[0].match(/:(.*?);/)[1];
            // atob()：对使用 base64 编码的数据字符串进行解码
            // btoa()：从二进制字符串创建一个 Base64 编码的 ASCII 字符串
            const base64Str = atob(arr[1]);
            let n = base64Str.length;
            const u8arr = new Uint8Array(n);
            while (n--) {
                u8arr[n] = base64Str.charCodeAt(n);
            }
            return new Blob([u8arr], {type: mime});
        }
    </script>
</section>
</body>
</html>