<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <base target="_blank">
    <title>Event-demo</title>
    <link rel="stylesheet" href="../../../../public/css/demo.css">
</head>

<body>
    <section class="code-wrap h700">
        <div class="css-live-wrap w100p">
            <div class="caption">事件</div>
            <div class="centered">
                <table class="w1024">
                    <tr>
                        <th>属性/方法</th>
                        <th>概述</th>
                    </tr>
                    <tr>
                        <td>Event.preventDefault()</td>
                        <td>通知浏览器不要执行与事件关联的默认动作</td>
                    </tr>
                    <tr>
                        <td>Event.stopPropagation()</td>
                        <td>阻止捕获和冒泡阶段中当前事件的进一步传播</td>
                    </tr>
                    <tr>
                        <td>Event.bubbles</td>
                        <td>返回布尔值，表明当前事件是否会向DOM树上层元素冒泡</td>
                    </tr>
                    <tr>
                        <td>Event.cancelable</td>
                        <td>返回布尔值，表明该事件是否可以被取消</td>
                    </tr>
                    <tr>
                        <td>Event.eventPhase</td>
                        <td>返回事件传播的当前阶段</td>
                    </tr>
                    <tr>
                        <td>Event.type</td>
                        <td>返回当前事件对象的事件类型</td>
                    </tr>
                    <tr>
                        <td>Event.timeStamp</td>
                        <td>返回事件触发时距离1970年1月1日的毫秒数</td>
                    </tr>
                    <tr>
                        <td>Event.target</td>
                        <td>返回触发事件的元素</td>
                    </tr>
                    <tr>
                        <td>Event.currentTarget</td>
                        <td>返回事件监听器绑定的元素</td>
                    </tr>
                    <tr>
                        <td>MouseEvent.relatedTarget</td>
                        <td>对于 mouseover 事件，它指向被进入的元素
                            <br/>对于 mouseout 事件，它指向被离开的元素</td>
                    </tr>
                    <tr>
                        <td>MouseEvent.button</td>
                        <td>返回当事件被触发时，哪个鼠标按钮被点击</td>
                    </tr>
                    <tr>
                        <td>
                            <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/code">KeyboardEvent.code</a>
                        </td>
                        <td>表示键盘上的物理键（与按键生成的字符相对）</td>
                    </tr>
                    <tr>
                        <td>
                            <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/key">KeyboardEvent.key</a>
                        </td>
                        <td>返回用户按下的物理按键的值</td>
                    </tr>
                    <tr>
                        <td>KeyboardEvent.altKey</td>
                        <td>返回当事件被触发时，"ALT" 是否被按下</td>
                    </tr>
                    <tr>
                        <td>KeyboardEvent.ctrlKey</td>
                        <td>返回当事件被触发时，"CTRL" 键是否被按下</td>
                    </tr>
                    <tr>
                        <td>KeyboardEvent.shiftKey</td>
                        <td>返回当事件被触发时，"SHIFT" 键是否被按下</td>
                    </tr>
                    <tr>
                        <td>KeyboardEvent.metaKey</td>
                        <td>返回当事件被触发时，"meta" 键是否被按下</td>
                    </tr>
                    <tr>
                        <td><a href="https://www.runoob.com/jsref/event-key-location.html">KeyboardEvent.location</a></td>
                        <td>返回按键在键盘或设置上的位置</td>
                    </tr>
                </table>
            </div>
        </div>
    </section>

    <section class="code-wrap h350" id="event-target">
        <div class="css-live-wrap w40p">
            <div class="caption">target, currentTarget, delegateTarget 的区别</div>
            <div class="centered">
                <container>
                    <outer>
                        outer
                        <inner>inner</inner>
                    </outer>
                </container>
            </div>
        </div>
        <style>
            container>outer,
            container>outer>inner {
                color: white;
                border: 1px solid white;
                border-radius: 50%;
            }

            container>outer {
                display: flex;
                flex-flow: column nowrap;
                justify-content: center;
                align-items: center;
                width: 250px;
                height: 250px;
                background: var(--pkt4);
            }

            container>outer>inner {
                width: 120px;
                line-height: 120px;
                background: var(--pkt5);
                text-align: center;
                cursor: pointer;
            }
        </style>
        <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script class="code w60p" contenteditable="true">
            $('container').on('click', 'outer', target);
            function target(e) {
                alert(e.target.nodeName);
                alert(e.currentTarget.nodeName);
                alert(this.nodeName);
                alert(e.delegateTarget.nodeName);
            }
        </script>
    </section>

    <section class="code-wrap h300" id="event-type">
        <div class="css-live-wrap w40p">
            <div class="caption">Event.type</div>
            <div class="caption">返回一个字符串, 表示该事件对象的事件类型</div>
            <div class="type centered">
                <p>Press any key or click the mouse to get the event type</p>
                <p>Event type: <span></span></p>
            </div>
        </div>
        <style>
            .type {
                white-space: nowrap;
            }

            .type span {
                color: var(--pkt5);
            }
        </style>
        <script class="code w60p" contenteditable="true">
            /* keyboard events */
            document.addEventListener("keydown", getEvtType, false);
            document.addEventListener("keypress", getEvtType, false);
            document.addEventListener("keyup", getEvtType, false);
            /* Mouse events */
            document.addEventListener("mousedown", getEvtType, false);
            document.addEventListener("click", getEvtType, false);
            document.addEventListener("mouseup", getEvtType, false);

            function getEvtType(event) {
                document.querySelector(".type span").innerHTML = event.type;
            }
        </script>
    </section>

    <section class="code-wrap">
        <div class="css-live-wrap w40p">
            <div class="caption">MouseEvent.button</div>
            <div class="caption">返回一个值，代表用户按下并触发了事件的鼠标按键</div>
            <div class="button centered" id="button">
                <div class="mouse" id="mouse">
                    <div class="top">
                        <div class="left" id="left"></div>
                        <div class="right" id="right"></div>
                        <div class="middle" id="middle"></div>
                    </div>
                    <div class="bottom"></div>
                </div>
            </div>
        </div>
        <style>
            .mouse .top {
                font-size: 0;
            }

            .mouse .top>div {
                display: inline-block;
            }

            .mouse .left,
            .mouse .right {
                width: 56px;
                height: 100px;
                border: 1px solid black;
            }

            .mouse .left {
                border-radius: 25px 0 0 0 / 50px 0 0 0;
            }

            .mouse .right {
                border-radius: 0 25px 0 0 / 0 50px 0 0;
            }

            .mouse .middle {
                position: absolute;
                top: 20%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 20px;
                height: 50px;
                background: white;
                border: 1px solid black;
                border-radius: 4px;
            }

            .mouse .bottom {
                height: 100px;
                border: 1px solid black;
                border-radius: 0 0 20px 20px / 0 0 40px 40px;
            }
        </style>
        <script class="code w60p" contenteditable="true">
            mouse.addEventListener("mousedown", getEvtButton, false);
            mouse.addEventListener("click", getEvtButton, false);
            mouse.addEventListener("mouseup", getEvtButton, false);

            function getEvtButton(e) {
                let button = e.button;
                console.log(e.type);
                console.log(button);
                left.style.background = '';
                right.style.background = '';
                middle.style.background = '';
                if (button === 0) {         // 左键
                    left.style.background = 'var(--pkt5)';
                } else if (button === 1) {  // 中键
                    middle.style.background = 'var(--pkt5)';
                } else if (button === 2) {  // 右键
                    right.style.background = 'var(--pkt5)';
                }
            }
        </script>
    </section>

    <section class="code-wrap h450" id="event-y">
        <div class="css-live-wrap w40p">
            <div class="caption">offsetY &amp; clientY &amp; pageY &amp; screenY</div>
            <div class="centered box-event-y">
                <img src="../../../../public/img/Event-Y.jpg" alt="xxxy">
            </div>
        </div>
        <style>
            .box-event-y {
                cursor: pointer;
            }

            .box-event-y img {
                width: 500px;
            }
        </style>
        <script class="code w60p" contenteditable="true">
            let y = document.getElementsByClassName('box-event-y')[0];
            y.onclick = function (e) {
                console.log('screenY', e.screenY);
                console.log('pageY', e.pageY);
                console.log('clientY', e.clientY);
                console.log('offsetY', e.offsetY);
            }
        </script>
    </section>

    <section class="code-wrap h200" id="event-key">
        <div class="css-live-wrap w40p">
            <div class="caption">ctrlKey &amp; shiftKey &amp; altKey</div>
            <div class="caption">按下 ctrl + alt + z, BOOM</div>
            <div class="boom centered" id="boom">
                BOOM
            </div>
        </div>
        <style>
            .boom {
                color: var(--pkt5);
                font-size: 3em;
                text-shadow: 2px 2px 2px var(--pkt4);
                transition: all 1.5s;
                transform: scale(0, 0);
            }
        </style>
        <script class="code w60p" contenteditable="true">
            document.addEventListener("keydown", showBoom, false);
            function showBoom(e) {
                if (e.ctrlKey && e.altKey && e.key === 'z') {
                    boom.style.transform = 'scale(1, 1)';
                }
            }

        </script>
    </section>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../../public/js/demo.js"></script>
</body>

</html>
