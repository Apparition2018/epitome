<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <base target="_blank">
    <title>全局对象</title>
    <link rel="stylesheet" href="../../../../public/css/demo.css">
</head>

<body>
    <section class="code-wrap h750">
        <div class="css-live-wrap w100p">
            <div class="caption">全局对象</div>
            <div class="global centered">
                <table class="w1280">
                    <tr>
                        <th></th>
                        <th>属性/函数</th>
                        <th>概述</th>
                        <th>示例/注意</th>
                    </tr>
                    <tr>
                        <td rowspan="3">属性</td>
                        <td>Infinity</td>
                        <td>一个数值，表示无穷大
                            <br/>初始值是 Number.POSITIVE_INFINITY
                            <br/>任何正值乘以 Infinity 为 Infinity，
                            <br/>任何数值（除了Infinity 和 -Infinity）除以 Infinity 为 0</td>
                        <td>Infinity + 1; // Infinity
                            <br/>Math.pow(10, 1000); // Infinity
                            <br/>Math.log(0); // -Infinity
                            <br/>1 / Infinity; // 0
                        </td>
                    </tr>
                    <tr>
                        <td>NaN</td>
                        <td>表示不是一个数字（Not-A-Number），初始值是 NaN</td>
                        <td>
                            <a href="../Number/Number-demo.html#isNaN">判断一个值是否是NaN，必须使用 Number.isNaN()</a>
                        </td>
                    </tr>
                    <tr>
                        <td>undefined</td>
                        <td>表示原始值 undefined，是一个原始数据类型，
                            <br/>一个没有被赋值的变量会有个默认值 undefined
                        </td>
                        <td>const x = null;
                            <br/>x == undefined; // true
                            <br/>x === undefined; // false</td>
                    </tr>
                    <tr>
                        <td>字面量</td>
                        <td>null</td>
                        <td>特指对象的值未设置，指示变量未指向任何对象</td>
                        <td>1 + null; // 1
                            <br/>1 + undefined; // NaN</td>
                    </tr>
                    <tr>
                        <td rowspan="10">函数</td>
                        <td>encodeURI()
                            <br/>decodeURI()</td>
                        <td>保留字符：; , / ? : @ &amp; = + $
                            <br/>非转义的字符：字母 数字 - _ . ! ~ * ' ( )
                            <br/>数字符号：#
                        </td>
                        <td>encodeURI('https://baidu.com/;,/?:@&amp;=+$-_.!~*()#');
                            <br/>// "https://baidu.com/;,/?:@&amp;=+$-_.!~*()#"</td>
                    </tr>
                    <tr>
                        <td>encodeURIComponent()
                            <br/>decodeURIComponent()
                        </td>
                        <td>转义除了非转义字符外的所有字符</td>
                        <td>encodeURIComponent('https://baidu.com/;,/?:@&amp;=+$-_.!~*()#');
                            <br/>// "https%3A%2F%2Fbaidu.com%2F%3B%2C%2F%3F%3A%40%26%3D%2B%24-_.!~*()%23"</td>
                    </tr>
                    <tr>
                        <td>eval()</td>
                        <td>将传入的字符串当做 JavaScript 代码进行执行
                            <br/>返回最后一个表达式的值
                        </td>
                        <td>const str = "if (a) { 1 + 1; } else { 1 + 2; }";
                            <br/>const a = 0;
                            <br/>const b = eval(str); // 3
                        </td>
                    </tr>
                    <tr>
                        <td>isNaN()</td>
                        <td>确定一个值是否为NaN</td>
                        <td>
                            <a href="../Number/Number-demo.html#isNaN">isNaN()</a>
                        </td>
                    </tr>
                    <tr>
                        <td>parseFloat()</td>
                        <td>解析一个字符串参数并返回一个浮点数
                            <br/>和 Number.parseFloat() 函数相同</td>
                        <td>parseFloat('-2-3'); // -2
                            <br/>parseFloat('2.2.2'); // 2.2
                            <br/>parseFloat('a'); // NaN
                            <br/>parseFloat('2.2a'); // 2.2
                        </td>
                    </tr>
                    <tr>
                        <td>parseInt()</td>
                        <td>解析一个字符串参数并返回一个指定基数的整数，
                            <br/>应该总是指定基数
                        </td>
                        <td>parseInt(15.99, 10); // 15
                            <br/>parseInt(15 * 3, 10); // 45
                            <br/>parseInt("15 * 3", 10); // 15
                            <br/>parseInt("-15e2", 10); // -15
                            <br/>parseInt("546", 2); // NaN
                        </td>
                    </tr>
                </table>
            </div>
        </div>
    </section>

    <section class="code-wrap h300">
        <div class="css-live-wrap w33p">
            <div class="caption">判断 undefined</div>
            <div class="centered">
            </div>
        </div>
        <script class="code w67p" contenteditable="true">
            let x;

            // 方法一
            x === undefined; // true
            y === undefined; // ReferenceError: x is not defined

            // 方法二
            typeof x === 'undefined'; // true
            typeof y === 'undefined'; // true

            // 方法三
            x === void 0; // true
            y === void 0; // ReferenceError: x is not defined
        </script>
    </section>

    <section class="code-wrap h200">
        <div class="css-live-wrap w33p">
            <div class="caption">间接使用 eval(), 作用域是全局的</div>
            <div class="centered">
            </div>
        </div>
        <script class="code w67p" contenteditable="true">
            function test() {
                const x = 2, y = 4;
                eval('x + y');      // 6，直接调用，使用本地作用域
                const geval = eval; // 将 eval 赋给一个引用
                geval('x + y');     // ReferenceError: x is not defined，间接调用，使用全局作用域
                (0, eval)('x + y'); // 另一个间接调用的例子
            }

            // ps: eval() 是一个危险的函数， 他执行的代码拥有着执行者的权利
        </script>
    </section>
</body>

</html>
