<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <base target="_blank">
    <title>获取元素css</title>
    <link rel="stylesheet" href="../../../public/css/demo.css">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../../public/js/demo.js"></script>
    <style>
        .eg {
            padding: 10px 20px;
            margin: 15px auto;
            color: whitesmoke;
            font-size: 140%;
            font-weight: bold;
            text-align: center;
            border-radius: 3px;
            cursor: pointer;
        }

        .eg + div {
            min-height: 19px;
            margin-top: 16px;
            padding-bottom: 4px;
            text-align: center;
            border-bottom: 1px solid black;
        }
    </style>
</head>

<body>
<!-- CSS操作：http://www.w3cbus.com/dom/css.html
    js获取css值的方法：https://blog.csdn.net/lzding/article/details/46317777 -->
<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption">element.style</div>
        <div class="caption">只能获取行内样式，可以设置样式</div>
        <div class="centered">
            <div class="eg eg1" style="background: darkseagreen">
                style
            </div>
            <div class="text"></div>
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const eg1 = document.getElementsByClassName('eg1')[0];
        eg1.onclick = function () {
            this.nextSibling.nextSibling.innerHTML = this.style.backgroundColor;
            this.style.setProperty('background-color', 'springgreen')
        }
    </script>
</section>

<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption">currentStyle</div>
        <div class="caption">IE, 返回的是元素当前应用的最终CSS属性值</div>
        <div class="centered">
            <div class="eg eg2" style="background: violet;">
                currentStyle
            </div>
            <div class="text"></div>
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const eg2 = document.getElementsByClassName('eg2')[0];
        eg2.onclick = function () {
            try {
                this.nextSibling.nextSibling.innerHTML = this.currentStyle.backgroundColor;
            } catch (error) {
                this.nextSibling.nextSibling.innerHTML = '只在IE有效'
            }
        }
    </script>
</section>

<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption">
            <a href="https://www.zhangxinxu.com/wordpress/2012/05/getcomputedstyle-js-getpropertyvalue-currentstyle/">getComputedStyle</a>
        </div>
        <div class="caption">返回的style是一个实时的 CSSStyleDeclaration 对象</div>
        <div class="centered">
            <div class="eg eg3" style="background: tomato;">
                getComputedStyle
            </div>
            <div class="text"></div>
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const eg3 = document.getElementsByClassName('eg3')[0];
        eg3.onclick = function () {
            // 不同浏览器下，获取 css 属性值 的兼容写法
            this.nextSibling.nextSibling.innerHTML = this.currentStyle ? this.currentStyle.backgroundColor : getComputedStyle(this, null).getPropertyValue('background-color');
            // getPropertyValue() 也不需要 cssFloat 与 styleFloat 的兼容性处理
        }
    </script>
</section>

<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption">styleSheets</div>
        <div class="caption">返回当前页面的所有StyleSheet对象（即所有样式表）</div>
        <div class="centered">
            <div class="eg eg4" style="background: navy;">
                styleSheets
            </div>
            <div class="text"></div>
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const eg4 = document.getElementsByClassName('eg4')[0];
        eg4.onclick = function () {
            this.nextSibling.nextSibling.innerHTML = document.styleSheets[4].rules[0].style.background;
        }
    </script>
</section>

<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption">jQuery css</div>
        <div class="centered">
            <div class="eg eg5" style="background: deepskyblue;">
                jQuery css
            </div>
            <div class="text"></div>
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const eg5 = document.getElementsByClassName('eg5')[0];
        eg5.onclick = function () {
            this.nextSibling.nextSibling.innerHTML = $(this).css('background-color');
        }
    </script>
</section>

<section class="code-wrap h250">
    <div class="css-live-wrap w40p">
        <div class="caption">
            <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/matchMedia">matchMedia</a>
        </div>
        <div class="centered">
            <div class="eg eg6" style="background: khaki;">
                matchMedia
            </div>
            <div class="text"></div>
        </div>
    </div>
    <script class="code w60p" contenteditable="true">
        const eg6 = document.getElementsByClassName('eg6')[0];
        eg6.onclick = function () {
            if (window.matchMedia("(min-width: 400px").matches) {
                this.nextSibling.nextSibling.innerHTML = 'matches';
            } else {
                this.nextSibling.nextSibling.innerHTML = 'not matches';
            }
        }
    </script>
</section>
</body>
</html>
