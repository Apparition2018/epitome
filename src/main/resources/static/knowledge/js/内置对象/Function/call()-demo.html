<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
    <title>call()-demo</title>
    <link rel="icon" href="../../../../img/Nohara Sinnosuke.png">
    <link rel="stylesheet" href="../../../../css/demo.css">
</head>

<body>
    <!-- https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call -->
    <section class="code-wrap h300">
        <div class="css-live-wrap w33p">
            <div class="caption">使用call方法调用父构造函数</div>
            <div class="centered">
            </div>
        </div>
        <script class="code w67p" contenteditable="true">
            function Product(name, price) {
                this.name = name;
                this.price = price;

                if (price < 0) {
                    throw RangeError('Cannot create product ' + this.name + ' with a negative price');
                }
            }

            function Food(name, price) {
                Product.call(this, name, price);
                this.category = 'food';
            }
        </script>
    </section>

    <section class="code-wrap h300">
        <div class="css-live-wrap w33p">
            <div class="caption">使用call方法调用匿名函数</div>
            <div class="centered">
            </div>
        </div>
        <style>
        </style>
        <script class="code w67p" contenteditable="true">
            var animals = [
                { species: 'Lion', name: 'King' },
                { species: 'Whale', name: 'Fail' }
            ];

            for (var i = 0; i < animals.length; i++) {
                (function (i) {
                    this.print = function () {
                        console.log('#' + i + ' ' + this.species + ': ' + this.name);
                    };
                    this.print();
                }).call(animals[i], i);
            }
        </script>
    </section>

    <section class="code-wrap h200">
        <div class="css-live-wrap w33p">
            <div class="caption">将类数组(Array-like)对象/集合转换成数组</div>
            <div class="caption">利用 Array.prototype.slice.call() 实现</div>
            <div class="centered">
            </div>
        </div>
        <style>
        </style>
        <script class="code w67p" contenteditable="true">
            function toArray(a, b, c) {
                // [].slice.call() 等同于 Array.prototype.slice.call()
                var args = [].slice.call(arguments);
                console.log(args);
            }

            toArray(1, 2, 3); // [1, 2, 3]
        </script>
    </section>
</body>

</html>