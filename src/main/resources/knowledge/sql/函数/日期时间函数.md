## 日期时间函数
---
## 当前日期时间
### MySQL
```
CURRENT_TIMESTAMP                                   2019-09-02T02:00:00Z
CURRENT_DATE                                        2019-09-02
CURRENT_TIME                                        02:00:00
NOW()                                               2019-09-02T02:00:00Z
CURDATE()                                           2019-09-02
CURTIME()                                           02:00:00
LOCALTIMESTAMP()                                    2019-09-02T02:00:00Z
LOCALTIME()                                         2019-09-02T02:00:00Z
SYSDATE()                                           2019-09-02T02:00:00Z
```
### SQL Server
```
CURRENT_TIMESTAMP                                   2019-09-02T02:00:00Z
GETDATE()                                           2019-09-02T02:00:00Z
```
### Oracle
```
CURRENT_TIMESTAMP
CURRENT_DATE                                        2019-09-02T02:00:00Z
LOCALTIMESTAMP                                      2019-09-02 02:00:00.000000
SYSTIMESTAMP
SYSDATE                                             2019-09-02T02:00:00Z
```
---
## 截取
### MySQL
```
EXTRACT(XXX FROM '2019-09-02 06:07:08.000001')
DATE('2019-09-02 06:07:08')                         2019-09-02              日期
YEAR('2019-09-02')                                  2019                    年
YEARWEEK('2019-09-02')                              201935                  
QUARTER('2019-09-02')                               3                       季度
MONTHNAME('2019-09-02')                             September               月    
MONTH('2019-09-02')                                 9
WEEK('2019-09-02')                                  35                      周
WEEKOFYEAR('2019-09-02')                            36
WEEKDAY('2019-09-02')                               0
DAYNAME('2019-09-02')                               Monday                  日
DAYOFYEAR('2019-09-02')                             245
DAYOFWEEK('2019-09-02')                             2
DAY('2019-09-02')                                   2
TIME('2019-09-02 06:07:08.009')                     06:07:08.009            时间
HOUR('2019-09-02 06:07:08')                         6                       小时
MINUTE('2019-09-02 06:07:08')                       7                       分钟
SECOND('2019-09-02 06:07:08')                       8                       秒
MICROSECOND('2019-09-02 06:07:08.009')              9000                    微秒
```
### SQL Server
```
YEAR('2019-09-02')                                  2019                    年
DATEPART(year, '2019-09-02')                        2019
DATEPART(yyyy, '2019-09-02')                        2019
DATEPART(yy, '2019-09-02')                          2019
DATEPART(quarter, '2019-09-02')                     3                       季度
DATENAME(month, '2019-09-02')                       September               月
DATEPART(month, '2019-09-02')                       9
MONTH('2019-09-02')                                 9
DATEPART(day, '2019-09-02')                         2
DAY('2019-09-02')                                   2                       日
DATEPART(hour, '2019-09-02 06:07:08')               6                       小时
DATEPART(minute, '2019-09-02 06:07:08')             7                       分钟
DATEPART(second, '2019-09-02 06:07:08')             8                       秒
DATEPART(millisecond, '2019-09-02 06:07:08.009')    9                       毫秒
```
### Oracle
```
EXTRACT(XXX FROM DATE XXX)
```
---

/********** SQL Server **********/
-- DATEADD
SELECT DATEADD(YEAR, 1, '2018-08-15')	-- 2019-08-15 00:00:00.000
SELECT DATEADD(yyyy, -1, '2018-08-15')	-- 2017-08-15 00:00:00.000
SELECT DATEADD(WEEK, 1, '2018-08-15')	-- 2018-08-22 00:00:00.000

-- DATEDIFF
SELECT DATEDIFF(DAY, '2017-01-01', '2018-08-15')	-- 1    2
SELECT DATEDIFF(DAY, '2017-01-01', '2018-08-15')	-- 591
SELECT DATEDIFF(dd, '2017-12-31', '2018-08-15')		-- 227

-- ISDATE
SELECT ISDATE('2018-08-15') -- 1
SELECT ISDATE('2018-08-32') -- 0
GO


/********** Oracle **********/
-- ADD_MONTHS
SELECT ADD_MONTHS(SYSDATE, 1)

-- LAST_DAY，返回日期所在月的最后一天的日期
SELECT LAST_DAY('2018-08-15') - 2018-08-31

-- MONTHS_BETWEEN，返回两个日期相隔多少个月
SELECT MONTHS_BETWEEN (TO_DATE ('2003/07/01', 'yyyy/mm/dd'), TO_DATE ('2003/03/14', 'yyyy/mm/dd'))

-- NEXT_DAY
SELECT NEXT_DAY(SYSDATE, 5) -- 返回下周4的日期
GO


/********** MySQL **********/
-- ADDDATE
SELECT ADDDATE('2018-08-15', 10)				-- 2018-08-25
SELECT ADDDATE('2018-08-15', INTERVAL -1 MONTH) -- 2018-07-15

-- DATEDIFF
SELECT DATEDIFF('2017-01-01', '2018-08-15')	-- 591
SELECT DATEDIFF('2017-12-31', '2018-08-15')	-- 227

-- LAST_DAY，返回日期所在月的最后一天的日期
SELECT LAST_DAY('2018-08-15') - 2018-08-31

-- DATE_FORMAT

-- TO_DAYS
GO