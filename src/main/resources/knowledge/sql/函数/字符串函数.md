# 字符串函数
---
## Common
```
ASCII('a')                                                  97
LOWER('A')                                                  a
UPPER('a')                                                  A
CONCAT('water', 'melon')                                    watermelon
REPLACE('water-melon', '-', '')                             watermelon
REVERSE('abc')                                              cba
```
---
## TRIM
>### MySQL
>```
>TRIM(LEADING '-' FROM '-a')                                a
>TRIM(TRAILING '-' FROM 'a-')                               a
>TRIM(BOTH '-' FROM '-a-')                                  a
>LTRIM(' a')                                                a
>```
>### SQL Server
>```
>LTRIM(' a')                                                a    
>```
>### Oracle
>```
>TRIM(LEADING '-' FROM '-a')                                a
>TRIM(TRAILING '-' FROM 'a-')                               a
>TRIM(BOTH '-' FROM '-a-')                                  a
>LTRIM('ba', 'b')                                           a
>```
---
## CHAR
>### MySQL
>```
>CHAR(97)                                                   a
>```
>---
>### SQL Server
>```            
>CHAR(97)                                                   a                       
>NCHAR(97)                                                  a                       
>```
>---
>### Oracle
>```
>TO_CHAR(97)                                                a
>```
---
## 截取
>### MySQL
>```
>LEFT('watermelon', 5)                                      water
>RIGHT('watermelon', 5)                                     melon
>
>SUBSTR('This is a Dog', 11, 3)                             Dog
>SUBSTRING('This is a Dog', 11, 3)                          Dog
>```
>### SQL Server
>```
>LEFT('watermelon', 5)                                      water
>RIGHT('watermelon', 5)                                     melon
>
>SUBSTRING('This is a Dog', 11, 3)                          Dog
>```
>### Oracle
>```
>SUBSTR('This is a Dog', 11, 3)                             Dog
>```
---
## LENGTH
>### MySQL
>```
>LENGTH('watermelon')                                       10
>```
>### SQL Server
>```
>LEN('watermelon')                                          10
>```
>### Oracle
>```
>LENGTH('watermelon')                                       10
>```
---

/********** SQL Server **********/
-- CHARINDEX: 返回字符串中指定表达式的开始位置
SELECT CHARINDEX('a', 'abc') -- 1
SELECT CHARINDEX('b', 'abc') -- 2
SELECT CHARINDEX('c', 'abc') -- 3

-- PATINDEX: 返回指定表达式中模式第一次出现的开始位置
SELECT PATINDEX('%a%', 'abc') -- 1
SELECT PATINDEX('%b%', 'abc') -- 2
SELECT PATINDEX('%c%', 'abc') -- 3

-- SPACE，返回由重复空格组成的字符串
SELECT SPACE(7) -- '       '

-- STR，返回从数值表达式转换而来的字符表达式
SELECT STR(123.456, 7, 2) -- 123.46
SELECT STR(123.456, 6, 2) -- 123.46
SELECT STR(123.456, 5, 2) -- 123.5
SELECT STR(123.456, 4, 2) --  123
SELECT STR(123.456, 3, 2) -- 123

-- STUFF，删除指定长度的字符，并在指定的起点处插入另一组字符
SELECT STUFF('This is a Dog', 11, 3, 'Cat') -- This is a Cat



/********** Oracle **********/

-- ||
SELECT ('water' || 'melon') -- watermelon

-- INITCAP
SELECT INITCAP('water') -- Water

-- INSTR
SELECT INSTR('This is a Dog', 'i', 3, 2) -- 6

SELECT LENGTH('watermelon') -- 10

-- LPAD/RPAD
SELECT RPAD('760' ,4, '0') -- 0760



/********** MYSQL **********/
-- CONCAT_WS
SELECT CONCAT_WS(',', 1, 2, 3, 4) -- 1,2,3,4

-- INSTR
SELECT INSTR('This is a Dog', 'i', 3, 2) -- 6

-- LPAD/RPAD
SELECT RPAD('760' ,4, '0') -- 0760

-- SPACE
SELECT SPACE(7) -- '       '