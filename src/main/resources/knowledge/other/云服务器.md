# [云服务器](https://cloud.tencent.com/document/product/1207)
- 公网：43.136.102.115
- 内网：10.0.8.8
---
## [RabbitMQ](https://www.imooc.com/video/23816)
1. [Downloading and Installing RabbitMQ](https://rabbitmq.com/download.html)
2. Erlang
    - [RabbitMQ 和 Erlang/OTP 兼容性矩阵](https://rabbitmq.com/which-erlang.html#compatibility-matrix)
    - [Zero-dependency Erlang from RabbitMQ](https://rabbitmq.com/install-rpm.html#install-zero-dependency-rpm)
        - [Install From PackageCloud](https://packagecloud.io/rabbitmq/erlang)
3. 复制文件到服务器
    ```bashBeanPostProcessor
    # windows
    scp C:/Users/HP/Desktop/rabbitmq-server-3.11.15-1.el8.noarch.rpm \
        C:/Users/HP/Desktop/erlang-25.3.2-1.el8.x86_64.rpm \
        root@43.136.102.115:/home/lighthouse/software
    ```
    ```bash
    cd /home/lighthouse/software
    cp erlang-*.rpm rabbitmq-server-*.noarch.rpm /usr/local/rabbitmq
    ```
4. 升级软件包并安装：`cd /usr/local/rabbitmq`
    ```bash
    rpm -Uvh erlang-*.rpm
    erl
    yum install -y erlang
    ```   
    ```bash
    rpm -Uvh rabbitmq-server-*.noarch.rpm
    yum install -y socat
    yum install -y rabbitmq-server
    systemctl start rabbitmq-server
    ```
5. 防火墙 开放 5672 和 15672 端口
6. rabbitmq_management
    ```bash
    rabbitmq-plugins enable rabbitmq_management
    # 添加用户
    rabbitmqctl add_user ljh 123456
    # 设置为管理员
    rabbitmqctl set_user_tags ljh administrator
    # 授予所有权限
    rabbitmqctl set_permissions -p / ljh ".*" ".*" ".*"
    # http://43.136.102.115:15672
    # Admin → Virtual Hosts → Add a new virtual host
    ```
---
## [MongoDB](https://www.imooc.com/video/23829)
1. download
    - [MongoDB Community Server Download](https://www.mongodb.com/try/download/community)
        ```
        Version         current
        Platform        RedHat/CentOS 8.0
        Package         tgz
        ```
    - [MongoDB Shell Download](https://www.mongodb.com/try/download/shell)
        ```
        Version
        Platform        Linux Tarball 64-bit
        Package         tgz
        ```
2. scp
    - `scp C:\Users\HP\Desktop\mongodb-linux-x86_64-rhel80-6.0.2.tgz root@43.136.102.115:/home/software`
    - `scp C:\Users\HP\Desktop\mongosh-1.6.0-linux-x64.tgz root@43.136.102.115:/home/software`
3. 解压和移动：`cd /home/software`
    - `tar -zxvf mongodb-linux-x86_64-rhel80-6.0.2.tgz`
    - `mv mongodb-linux-x86_64-rhel80-6.0.2 /usr/local/mongodb`
    - `tar -zxvf mongosh-1.6.0-linux-x64.tgz`
    - `mv mongosh-1.6.0-linux-x64 /usr/local/mongosh`
4. `vim /etc/profile` → `source /etc/profile`
    ```
    export MONGODB_HOME=/usr/local/mongodb
    export MONGOSH_HOME=/usr/local/mongosh
    export PATH=$PATH:$MONGODB_HOME/bin:$MONGOSH_HOME/bin
    ```
    - `mongod -version`
5. 创建数据和日志文件夹：`cd /usr/local/mongodb`
    - `mkdir db`
    - `mkdir logs` → `cd logs` → `touch mongod.log`
6. `vim /etc/mongod.conf`：@see [MongoDB.md](../nosql/MongoDB.md)
7. 命令
    - 启动服务：`mongod -f /etc/mongod.conf`
    - 停止服务：`mongod --shutdown --dbpath /usr/local/mongodb/db`
8. `mongosh`
    - `use admin`
    - `db.createUser({user: "root", pwd: "root", roles: ["root"]})`
    - `db.auth("root", "root")`
9. 安全组规则 开放 27017 端口
10. navicat
    ```
    连接          Standalone
    验证          Password
    用户          root
    密码          root
    ```
---
